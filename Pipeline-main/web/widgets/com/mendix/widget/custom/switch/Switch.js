!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var r=t("object"==typeof exports?require("react"):e.react);for(var s in r)("object"==typeof exports?exports:e)[s]=r[s]}}(this,function(e){return function(e){function t(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,s){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,r){t.exports=e},function(e,t,r){var s,i;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s))e.push(r.apply(null,s));else if("object"===i)for(var n in s)o.call(s,n)&&s[n]&&e.push(n)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=r:(s=[],void 0!==(i=function(){return r}.apply(t,s))&&(e.exports=i))}()},function(e,t,r){var s,i,o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function s(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}();s=[r,t,r(0),r(3),r(6)],void 0!==(i=function(e,t,r,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var r=e.call(this,t)||this;return r.subscriptionHandles=[],r.state=r.updateState(t.mxObject),r.handleToggle=r.handleToggle.bind(r),r.subscriptionCallback=r.subscriptionCallback.bind(r),r.handleValidations=r.handleValidations.bind(r),r}return o(t,e),t.prototype.render=function(){return this.props.label.trim()?r.createElement(i.Label,{className:this.props.deviceStyle+" "+this.props.class,label:this.props.label,style:t.parseStyle(this.props.style),weight:this.props.labelWidth>11?11:this.props.labelWidth},this.renderSwitch(!0)):this.renderSwitch()},t.prototype.componentWillReceiveProps=function(e){this.resetSubscriptions(e.mxObject),this.setState(this.updateState(e.mxObject))},t.prototype.componentWillUnmount=function(){this.subscriptionHandles.forEach(mx.data.unsubscribe)},t.prototype.renderSwitch=function(e){void 0===e&&(e=!1);var i=this.props,o=i.class,n=i.colorStyle,a=i.deviceStyle,l=i.style;return r.createElement(s.Switch,{alertMessage:this.state.alertMessage,className:e?void 0:o,colorStyle:n,deviceStyle:a,isChecked:this.state.isChecked,onClick:this.handleToggle,status:this.getSwitchStatus(!this.isReadOnly()),style:e?void 0:t.parseStyle(l)})},t.prototype.getAttributeValue=function(e,t){return!!t&&t.get(e)},t.prototype.isReadOnly=function(){var e=this.props,t=e.booleanAttribute,r=e.editable,s=e.mxObject,i=e.readOnly;return"default"!==r||!s||(i||s.isReadonlyAttr(t))},t.prototype.getSwitchStatus=function(e){return this.props.mxObject?e?"enabled":"disabled":"no-context"},t.prototype.handleToggle=function(){var e=this.props,t=e.booleanAttribute,r=e.mxObject,s=e.onChangeMicroflow;r&&(r.set(t,!r.get(t)),this.executeAction(s,r.getGuid()))},t.prototype.resetSubscriptions=function(e){this.subscriptionHandles.forEach(mx.data.unsubscribe),this.subscriptionHandles=[],e&&(this.subscriptionHandles.push(mx.data.subscribe({callback:this.subscriptionCallback,guid:e.getGuid()})),this.subscriptionHandles.push(mx.data.subscribe({attr:this.props.booleanAttribute,callback:this.subscriptionCallback,guid:e.getGuid()})),this.subscriptionHandles.push(mx.data.subscribe({callback:this.handleValidations,guid:e.getGuid(),val:!0})))},t.prototype.updateState=function(e){return void 0===e&&(e=this.props.mxObject),{alertMessage:"",isChecked:this.getAttributeValue(this.props.booleanAttribute,e)}},t.prototype.subscriptionCallback=function(){this.setState(this.updateState())},t.prototype.handleValidations=function(e){var t=e[0].getErrorReason(this.props.booleanAttribute);e[0].removeAttribute(this.props.booleanAttribute),t&&this.setState({alertMessage:t})},t.prototype.executeAction=function(e,t){e&&this.props.mxObject&&window.mx.ui.action(e,{error:function(t){return window.mx.ui.error("Error while executing microflow "+e+": "+t.message)},params:{applyto:"selection",guids:[t]}})},t.parseStyle=function(e){void 0===e&&(e="");try{return e.split(";").reduce(function(e,t){var r=t.split(":");if(2===r.length){e[r[0].trim().replace(/(-.)/g,function(e){return e[1].toUpperCase()})]=r[1].trim()}return e},{})}catch(t){window.console.error("Failed to parse style",e,t)}return{}},t}(r.Component);t.default=n}.apply(t,s))&&(e.exports=i)},function(e,t,r){var s,i;s=[r,t,r(0),r(1),r(4),r(5)],void 0!==(i=function(e,t,r,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=function(e){return r.createElement("div",{className:s("widget-switch",e.className,e.deviceStyle),style:e.style},r.createElement("input",{checked:e.isChecked,className:s("widget-switch-checkbox",{enabled:"enabled"===e.status}),readOnly:!0,type:"checkbox"}),r.createElement("div",{className:s("widget-switch-btn-wrapper widget-switch-btn-wrapper-"+e.colorStyle,{checked:e.isChecked,disabled:"disabled"===e.status,"no-switch":"no-context"===e.status,"un-checked":!e.isChecked}),onClick:"enabled"===e.status?e.onClick:void 0},r.createElement("small",{className:s("widget-switch-btn",{left:!e.isChecked,right:e.isChecked})})),r.createElement(i.Alert,{message:e.alertMessage}))},t.Switch.defaultProps={colorStyle:"default",deviceStyle:"auto"},t.Switch.displayName="Switch"}.apply(t,s))&&(e.exports=i)},function(e,t,r){var s,i;s=[r,t,r(0),r(1)],void 0!==(i=function(e,t,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=function(e){var t=e.className,i=e.bootstrapStyle,o=e.message;return o?r.createElement("div",{className:s("alert alert-"+i,t)},o):null},t.Alert.defaultProps={bootstrapStyle:"danger"},t.Alert.displayName="Alert"}.apply(t,s))&&(e.exports=i)},function(e,t){},function(e,t,r){var s,i;s=[r,t,r(0),r(1)],void 0!==(i=function(e,t,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.children,i=e.className,o=e.label,n=e.style,a=e.weight;return r.createElement("div",{className:s("widget-switch-label",i),style:n},r.createElement("div",{className:"form-group"},r.createElement("div",{className:"col-sm-"+a+" col-xs-"+a},r.createElement("label",{className:"control-label"},o)),r.createElement("div",{className:"col-sm-"+(12-a)+" col-xs-"+(12-a)},t)))};t.Label=i,i.defaultProps={weight:6},i.displayName="Label"}.apply(t,s))&&(e.exports=i)}])});